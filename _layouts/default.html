<!DOCTYPE html>
<html lang="{{ site.locale | default: 'ko-KR' }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}">
  
  <!-- Fonts - 모바일 최적화 (필수 weight만) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"></noscript>
  
  <!-- Styles -->
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="{{ '/assets/images/favicon.svg' | relative_url }}">
  
  {% seo %}
</head>
<body>
  <div class="site-wrapper">
    {% include header.html %}
    
    <main class="main-content" id="main-content">
      {{ content }}
    </main>
    
    {% include footer.html %}
  </div>
  
  <!-- Particles Background - 데스크톱만 -->
  <canvas id="particles-canvas" class="particles-canvas desktop-only"></canvas>
  
  <!-- Scripts -->
  <script src="{{ '/assets/js/device-detector.js' | relative_url }}"></script>
  <script src="{{ '/assets/js/scroll-animations.js' | relative_url }}" defer></script>
  <script src="{{ '/assets/js/interactions.js' | relative_url }}" defer></script>
  <!-- Particles는 데스크톱에서만 로드 -->
  <script>
    if (window.DEVICE && window.DEVICE.isDesktop) {
      const script = document.createElement('script');
      script.src = '{{ "/assets/js/particles.js" | relative_url }}';
      script.defer = true;
      document.body.appendChild(script);
    } else {
      // 모바일에서는 파티클 캔버스 제거
      const canvas = document.getElementById('particles-canvas');
      if (canvas) canvas.remove();
    }
  </script>
</body>
</html>
